<!Doctype html>
<html lang="es">
<head>
<title>actividad3</title>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="stilot.css">
<link rel="icon" type="image/jpg" href="tlaloc-1.png">

<link rel="stylesheet" type="text/css" href="icoonos/style.css">

</head>

<body id="bd">
    <font color="white" >


<header id="h_1">

<img src="pvz1.jpg" width="700px" height="289" >
<br>
    <style>
        .item {
            margin-bottom: 20px;
        }
        .total {
            margin-top: 20px;
            font-size: 20px;
        }
    </style>


<div id="carrito">
    <h2>Carrito de Compras</h2>
  <ul id="lista-carrito"></ul>
    <p class="total">Total: $<span id="total">0</span></p>
    <button onclick="pagar()" >Pagar</button>
          <button onclick="borrarCarrito()">Borrar </button>
</div>

<div class="item">
    <img src="rosas.jpg" width="500" height="300">
     <h3>Mochila escolar NovaFriend</h3>
                <p>Una mochila muy elegante, perfectas para salir con tus amigos.
$50
                </p>
   <label for="cantidadflores1">Cantidad:</label>
        <input type="number" id="cantidadflores1" value="0" min="0">
        <button onclick="agregarAlCarrito('rosas', 50, 'cantidadflores1')">Agregar al Carrito</button>

<div class="item">
        <img src="tuli.jpg" width="400" height="300">
        <h3>Mochila escolar FansPack Juvenil</h3>
                <p>Una mochila colorido que combina tu outfit, ideal para alegrar cualquier espacio. 
$40
                </p>
               
        <label for="cantidadflores2">Cantidad:</label>
        <input type="number" id="cantidadflores2" value="0" min="0">
        <button onclick="agregarAlCarrito('tulipan y lirio', 40, 'cantidadflores2')">Agregar al Carrito</button>
    </div>

<div class="item">
        <img src="orq.jpg" width="400" height="300">
        <h3>Mochila escolar VASCHY</h3>
                <p>Una mochila elegante y sofisticada que combina con tu outfit, perfecta para usar en cualquier lugar.
$60
                </p>
               
        <label for="cantidadflores3">Cantidad:</label>
        <input type="number" id="cantidadflores3" value="0" min="0">
        <button onclick="agregarAlCarrito('orquideas y suculentas', 60, 'cantidadflores3')">Agregar al Carrito</button>
    </div>

<div class="item">
        <img src="gira.jpg" width="400" height="300">
      <h3>Mochila escolar FansPack</h3>
                <p>Una mochila muy bonita para ir a la escuela.
$60
                </p>
               
        <label for="cantidadflores4">Cantidad:</label>
        <input type="number" id="cantidadflores4" value="0" min="0">
        <button onclick="agregarAlCarrito('girasoles', 60, 'cantidadflores4')">Agregar al Carrito</button>
    </div>


    

</font>
<script>
        let carrito = [];
        let total = 0;

        function agregarAlCarrito() {
            if (arguments.length === 2) {
                let item = arguments[0];
                let precio = arguments[1];
                carrito.push({ item, precio });
                total += precio;
            } else if (arguments.length === 3) {
                let item = arguments[0];
                let precio = arguments[1];
                let inputId = arguments[2];
                let cantidad = parseInt(document.getElementById(inputId).value);
                if (isNaN(cantidad) || cantidad < 0) {
                    alert("Por favor ingresa una cantidad válida mayor o igual a 0.");
                    return;
                }
                let subtotal = precio * cantidad;
                carrito.push({ item, precio, cantidad, subtotal });
                total += subtotal;
            }
            actualizarCarrito();
        }

        function actualizarCarrito() {
            let listaCarrito = document.getElementById('lista-carrito');
            listaCarrito.innerHTML = '';
            carrito.forEach(item => {
                let li = document.createElement('li');
                if (item.cantidad !== undefined && item.subtotal !== undefined) {
                    li.textContent = `${item.item} - Cantidad: ${item.cantidad} - Subtotal: $${item.subtotal.toFixed(2)}`;
                } else {
                    li.textContent = `${item.item} - $${item.precio.toFixed(2)}`;
                }
                listaCarrito.appendChild(li);
            });
            document.getElementById('total').textContent = total.toFixed(2);
        }

        function pagar() {
            if (carrito.length === 0) {
                alert("El carrito está vacío. Agrega algunos productos antes de pagar.");
                return;
            }
            localStorage.setItem("carrito", JSON.stringify(carrito));
            window.location.href = "pagina_de_confirmacion.html";
        }

        function borrarCarrito() {
            carrito = [];
            total = 0;
            actualizarCarrito();
        }
    </script>

</body>

 <footer style="background-color:#3265e9" ><h1><center>
        <p><h2>visitanos en nuestras redes oficiales como @Back_Pack</h2></p>
    
    
  <img src="gm.jpg" width="200px" height="100px" > <h2>Back_Pack@gmail.com</h2>

</h1></center>
</footer>

</html>